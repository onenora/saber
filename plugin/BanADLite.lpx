#!name=BanADLite
#!desc=è‡ªç”¨çš„å¹¿å‘Šè¿‡æ»¤å™¨(é…·å®‰,èµ·ç‚¹,å¾®åš)
#!homepage=https://ikuns.netlify.app
#!author=ikun[https://ikuns.netlify.app/en-us/links/]
#!tag=å»å¹¿å‘Š
#!loon_version=3.2.4(787)
#!icon=https://ikuns.netlify.app/img/logo.png
#!date=2025-09-18

[MITM]
hostname = %APPEND% api.coolapk.com, api-access.pangolin-sdk-toutiao.com, magev6.if.qidian.com, bootpreload.uve.weibo.com, weibointl.api.weibo.cn, api.weibo.cn, business-cdn.shouji.sogou.com, mp.weixin.qq.com, szextshort.weixin.qq.com, static.zhihu.com, ems.youku.com, optimus-ads.amap.com, api.bilibili.com, app.bilibili.com, api.m.jd.com,img*.360buyimg.com

[Rule]
# å­—èŠ‚è·³åŠ¨å¹¿å‘Šå¹³å°
DOMAIN-SUFFIX,byteadverts.com,REJECT
DOMAIN,lf-ad-ies.bytecdn.cn,REJECT
DOMAIN,extlog.snssdk.com,REJECT
DOMAIN,i.snssdk.com,REJECT
DOMAIN,mcs.snssdk.com,REJECT
DOMAIN-SUFFIX,bds.snssdk.com,REJECT

# è…¾è®¯å¹¿ç‚¹é€šå¹¿å‘Šä¸ä¸ŠæŠ¥
DOMAIN-SUFFIX,gdt.qq.com,REJECT
DOMAIN-SUFFIX,ugdtimg.com,REJECT
DOMAIN-SUFFIX,l.qq.com,REJECT
DOMAIN,qzs.gdtimg.com,REJECT
DOMAIN,pgdt.gtimg.cn,REJECT
DOMAIN,pgdt.ugdtimg.com,REJECT
DOMAIN,c2.gdt.qq.com,REJECT
DOMAIN,2fwin.gdt.qq.com,REJECT
DOMAIN,adsmind.gdtimg.com,REJECT
DOMAIN,adsmind.ugdtimg.com,REJECT
DOMAIN,ad.tencentmusic.com,REJECT
DOMAIN,mc.tencentmusic.com,REJECT
DOMAIN,mi.gdt.qq.com,REJECT

# ç”µå•†/æœ¬åœ°ç”Ÿæ´»å¹¿å‘Šä¸è¿½è¸ªï¼ˆé˜¿é‡Œã€äº¬ä¸œã€ç¾å›¢ã€å°ç±³ç­‰ï¼‰
DOMAIN,ossgw.alicdn.com,REJECT
DOMAIN,hudong.alicdn.com,REJECT
DOMAIN,et.tanx.com,REJECT
DOMAIN,df.tanx.com,REJECT
DOMAIN,opehs.tanx.com,REJECT
DOMAIN,beacon-api.aliyuncs.com,REJECT
DOMAIN,adash.man.aliyuncs.com,REJECT

# ä¸ªæ¨æ¨é€ SDK
DOMAIN-SUFFIX,getui.com,REJECT
DOMAIN-SUFFIX,getui.net,REJECT
DOMAIN-SUFFIX,igexin.com,REJECT

# å…¶å®ƒå¹¿å‘Šè”ç›Ÿä¸è¿½è¸ª
DOMAIN-SUFFIX,supersonicads.com,REJECT
DOMAIN-SUFFIX,appsad.cn,REJECT
DOMAIN-SUFFIX,applovin.com,REJECT
DOMAIN-SUFFIX,vungle.com,REJECT
DOMAIN-SUFFIX,unityads.unitychina.cn,REJECT
DOMAIN-SUFFIX,tapjoy.com,REJECT
DOMAIN-SUFFIX,ads.vungle.com,REJECT
DOMAIN-SUFFIX,adsmoloco.com,REJECT
DOMAIN-SUFFIX,tradplusad.com,REJECT
DOMAIN-SUFFIX,fancyapi.com,REJECT
DOMAIN-SUFFIX,medproad.com,REJECT
DOMAIN-SUFFIX,1rtb.net,REJECT
DOMAIN-SUFFIX,1rtb.com,REJECT
DOMAIN-SUFFIX,halomobi.com,REJECT
DOMAIN-SUFFIX,hubcloud.com.cn,REJECT
DOMAIN-SUFFIX,inmobi.cn,REJECT
DOMAIN-SUFFIX,puata.info,REJECT
DOMAIN-SUFFIX,beizi.biz,REJECT
DOMAIN-SUFFIX,miaozhen.com,REJECT

# Google å¹¿å‘ŠæœåŠ¡
DOMAIN-SUFFIX,doubleclick-cn.net,REJECT
DOMAIN-SUFFIX,googlesyndication-cn.com,REJECT

[Rewrite]
# -----é…·å®‰å»é¦–é¡µå¹¿å‘Šã€ä¿¡æ¯æµå¹¿å‘Šã€è¯„è®ºå¹¿å‘Š@RuCu6 @kelee---------
^https:\/\/api\.coolapk\.com\/v6\/feed\/detail\? response-body-json-jq '.data.hotReplyRows |= if . then map(select(.id?)) else . end | .data.topReplyRows |= if . then map(select(.id?)) else . end | reduce ("detailSponsorCard", "include_goods", "include_goods_ids") as $key (.; .data[$key]=[])'
^https:\/\/api\.coolapk\.com\/v6\/feed\/replyList response-body-json-jq 'if .data? and ((.data | type) == "array") and (.data | length > 0) then .data |= map(select(.id?)) else . end'
^https:\/\/api\.coolapk\.com\/v6\/main\/dataList response-body-json-jq '.data |= (if (type=="array" and length>0) then map(select((.entityTemplate!="sponsorCard") and (.title!="ç²¾é€‰é…ä»¶"))) else . end)'
^https:\/\/api\.coolapk\.com\/v6\/page\/dataList response-body-json-jq 'if (.data | length > 0) then .data |= map(select((.title? != "é…·å®‰çƒ­æœ") and (.entityTemplate? != "imageScaleCard") and (.entityTemplate? != "sponsorCard"))) else . end'
^https:\/\/api\.coolapk\.com\/v6\/main\/indexV8 response-body-json-jq '.data |= (if length > 0 then map(select((.entityTemplate != "sponsorCard") and ([8639,29349,33006,32557] | index(.entityId) | not) and ((.title // "" | test("å€¼å¾—ä¹°|çº¢åŒ…")) | not))) else . end)'
^https:\/\/api\.coolapk\.com\/v6\/main\/init response-body-json-jq '.data |= map(select(.entityId? | [944,945,6390] | index(.) | not) | if .entityId == 20131 then .entities |= map(select(.title != "é…·å“")) else . end)'
^https:\/\/api\.coolapk\.com\/v6\/search\?.*type=hotSearch reject-dict
^https?://api-access\.pangolin-sdk-toutiao\.com/api/ad/union/sdk reject

# ----------- èµ·ç‚¹å»å¹¿å‘Š & æ ¸å¿ƒå¢å¼º @kelee @app2smile-----------
^https:\/\/magev6\.if\.qidian\.com\/argus\/api\/v1\/client\/getconf$ response-body-json-replace Data.WolfEye 0 Data.CloudSetting.TeenShowFreq 0 Data.EnableSearchUser "1"
^https:\/\/magev6\.if\.qidian\.com\/argus\/api\/v1\/client\/getconf$ response-body-json-del Data.ActivityPopup Data.ActivityIcon Data.LuckBag
^https:\/\/magev6\.if\.qidian\.com\/argus\/api\/v4\/client\/getsplashscreen\? reject-dict
^https:\/\/magev6\.if\.qidian\.com\/argus\/api\/v2\/dailyrecommend\/getdailyrecommend\? response-body-json-replace Data.Items []
^https:\/\/magev6\.if\.qidian\.com\/argus\/api\/v1\/bookshelf\/getHoverAdv reject-dict
^https:\/\/magev6\.if\.qidian\.com\/argus\/api\/v1\/adv\/getadvlistbatch\?positions=iOS_tab response-body-json-replace Data.iOS_tab []

#å¾®åšè½»äº«ç‰ˆç§»é™¤å¼€å±å¹¿å‘Šã€æ—¶é—´çº¿å¹¿å‘ŠåŠè¯„è®ºåŒºå¹¿å‘Šï¼Œç§»é™¤å‘ç°é¡µé¢æ¨ªå¹…æ¨å¹¿ã€åŠçƒ­é—¨è§†é¢‘@kelee
^https:\/\/weibointl\.api\.weibo\.cn\/portal\.php\?a=trends response-body-json-del data.banner data.profile_accessrecord data.native_content
^https:\/\/weibointl\.api\.weibo\.cn\/portal\.php\?a=trends response-body-json-jq '.data.discover |= map(select(.schema != "å°Šäº«ä¼šå‘˜"))'
^https:\/\/api\.weibo\.cn\/2\/statuses\/friends\/timeline$ response-body-json-del advertises ad ad_version_2_weibo
^https:\/\/api\.weibo\.cn\/2\/statuses\/friends\/timeline$ response-body-json-jq '.statuses|=map(select(.ad_marked!=true))'
^https:\/\/api\.weibo\.cn\/2\/statuses\/unread_hot_timeline$ response-body-json-del ad ad_version_2_weibo
^https:\/\/api\.weibo\.cn\/2\/statuses\/unread_hot_timeline$ response-body-json-jq '.statuses|=map(select(.ad_marked!=true))'
^https:\/\/api\.weibo\.cn\/2\/comments\/build_comments\? response-body-json-jq '.datas[].data.ad_from_comment? = true'
^https:\/\/api\.weibo\.cn\/2\/cardlist\?aid= response-body-json-jq '.cards |= map(select((.mblog?|(.ad_marked?|type=="boolean")and.ad_marked==true)or(.card_group?|type=="array"and any(.[]?;.mblog?|(.ad_marked?|type=="boolean")and.ad_marked==true))|not))'
^https:\/\/bootpreload\.uve\.weibo\.com\/v1\/ad\/preload$ reject-dict
^https:\/\/api\.weibo\.cn\/2\/cardlist\?v_f=2 reject-dict
^https:\/\/api\.weibo\.cn\/2\/ad\/ reject-dict

# > ğŸˆ²ï¸æœç‹—è¾“å…¥æ³•æœé›†ä¿¡æ¯
^https?+:\/\/business-cdn\.shouji\.sogou\.com\/wapdl\/hole\/.+?\.jpg reject-200

# >å¾®ä¿¡å…¬ä¼—å·æ–‡ç« ä¸‹æ–¹å¹¿å‘Š
^https?:\/\/mp\.weixin\.qq.com\/mp\/ad_complaint reject
^https?:\/\/szextshort\.weixin\.qq\.com\/cgi-bin\/mmoc-bin\/ad\/ reject-img
^https?:\/\/mp\.weixin\.qq.com\/mp\/ad_video reject
^https?:\/\/mp\.weixin\.qq.com\/mp\/advertisement_report reject
^https?:\/\/mp\.weixin\.qq\.com\/(s|mp)\/(ad_|advertisement|getappmsgad|report|appmsgreport|appmsgpicreport) reject-img
^https?:\/\/mp\.weixin\.qq\.com\/mp\/(ad_|advertisement|getappmsgad) reject
^https?+:\/\/mp\.weixin\.qq\.com\/mp\/(?>ad_|advertisement|getappmsgad) reject-200

# > çŸ¥ä¹ç½‘é¡µç‰ˆå¼ºåˆ¶ç™»é™†å¼¹çª—@HotKids
^https?:\/\/static\.zhihu\.com\/[^\/]+\/(main|column)\.signflow\.[^.]+.js reject

#é«˜å¾·åœ°å›¾å¹¿å‘Šems
^http:\/\/ems\.youku\.com\/imp\? reject
^http:\/\/optimus-ads\.amap\.com\/uploadimg\/.+ reject

# ï½ BiliBili_å°å¡ç‰‡å¹¿å‘Š,å¼€å±é¡µå¹¿å‘Š@ddgksf2013
^https://api.bilibili.com/pgc/season/player/cards reject-dict
^https?:\/\/api\.bilibili\.com\/pgc\/season\/app\/related\/recommend\? reject-dict
^https://app.bilibili.com/x/v2/splash/show reject-dict

# > JD äº¬ä¸œå¼€å±å¹¿å‘Šï¼ˆæ­¤æ¡è§„åˆ™ä¼šå½±å“äº¬ä¸œæ¯”ä»·æ˜¾ç¤º,ä½¿å…¶å¤±æ•ˆï¼‰
^https?:\/\/api\.m\.jd.com\/client\.action\?functionId=start reject
^https?:\/\/api\.m\.jd.com\/client\.action\?functionId=queryMaterialAdverts reject
^https?:\/\/(bdsp-x|dsp-x)\.jd\.com\/adx\/ reject
^https?:\/\/img\d+\.360buyimg\.com\/jddjadvertise\/ reject

